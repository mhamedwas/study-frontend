!function(a,f,c,d){function b(j,g,e){var h=this;if(a.data(j,"cubeportfolio")){throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!")}h.obj=j,h.$obj=a(j),a.data(h.obj,"cubeportfolio",h),g.sortToPreventGaps!==d&&(g.sortByDimension=g.sortToPreventGaps,delete g.sortToPreventGaps),h.options=a.extend({},a.fn.cubeportfolio.options,g,h.$obj.data("cbp-options")),h.isAnimating=!0,h.defaultFilter=h.options.defaultFilter,h.registeredEvents=[],h.queue=[],h.addedWrapp=!1,a.isFunction(e)&&h.registerEvent("initFinish",e,!0);var i=h.$obj.children();h.$obj.addClass("cbp"),(0===i.length||i.first().hasClass("cbp-item"))&&(h.wrapInner(h.obj,"cbp-wrapper"),h.addedWrapp=!0),h.$ul=h.$obj.children().addClass("cbp-wrapper"),h.wrapInner(h.obj,"cbp-wrapper-outer"),h.wrapper=h.$obj.children(".cbp-wrapper-outer"),h.blocks=h.$ul.children(".cbp-item"),h.blocksOn=h.blocks,h.wrapInner(h.blocks,"cbp-item-wrapper"),h.plugins={},a.each(b.plugins,function(k,m){var l=m(h);l&&(h.plugins[k]=l)}),h.triggerEvent("afterPlugins"),h.removeAttrAfterStoreData=a.Deferred(),h.loadImages(h.$obj,h.display)}a.extend(b.prototype,{storeData:function(h,e){var g=this;e=e||0,h.each(function(n,k){var j=a(k),l=j.width(),m=j.height();j.data("cbp",{index:e+n,indexInitial:e+n,wrapper:j.children(".cbp-item-wrapper"),widthInitial:l,heightInitial:m,width:l,height:m,widthAndGap:l+g.options.gapVertical,heightAndGap:m+g.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})}),this.removeAttrAfterStoreData.resolve()},wrapInner:function(h,l){var j,g,k;if(l=l||"",!(h.length&&h.length<1)){for(h.length===d&&(h=[h]),g=h.length-1;g>=0;g--){for(j=h[g],(k=c.createElement("div")).setAttribute("class",l);j.childNodes.length;){k.appendChild(j.childNodes[0])}j.appendChild(k)}}},removeAttrImage:function(g){this.removeAttrAfterStoreData.then(function(){g.removeAttribute("width"),g.removeAttribute("height"),g.removeAttribute("style")})},loadImages:function(h,e){var g=this;requestAnimationFrame(function(){var k=h.find("img").map(function(o,m){if(m.hasAttribute("width")&&m.hasAttribute("height")){if(m.style.width=m.getAttribute("width")+"px",m.style.height=m.getAttribute("height")+"px",m.hasAttribute("data-cbp-src")){return null}if(null===g.checkSrc(m)){g.removeAttrImage(m)}else{var l=a("<img>");l.on("load.cbp error.cbp",function(){a(this).off("load.cbp error.cbp"),g.removeAttrImage(m)}),m.srcset?(l.attr("sizes",m.sizes||"100vw"),l.attr("srcset",m.srcset)):l.attr("src",m.src)}return null}return g.checkSrc(m)}),j=k.length;0!==j?a.each(k,function(n,l){var m=a("<img>");m.on("load.cbp error.cbp",function(){a(this).off("load.cbp error.cbp"),0===--j&&e.call(g)}),l.srcset?(m.attr("sizes",l.sizes),m.attr("srcset",l.srcset)):m.attr("src",l.src)}):e.call(g)})},checkSrc:function(k){var h=k.srcset,g=k.src;if(""===g){return null}var e=a("<img>");h?(e.attr("sizes",k.sizes||"100vw"),e.attr("srcset",h)):e.attr("src",g);var j=e[0];return j.complete&&j.naturalWidth!==d&&0!==j.naturalWidth?null:j},display:function(){var g=this;g.width=g.$obj.outerWidth(),g.triggerEvent("initStartRead"),g.triggerEvent("initStartWrite"),g.width>0&&(g.storeData(g.blocks),g.layoutAndAdjustment()),g.triggerEvent("initEndRead"),g.triggerEvent("initEndWrite"),g.$obj.addClass("cbp-ready"),g.runQueue("delayFrame",g.delayFrame)},delayFrame:function(){var g=this;requestAnimationFrame(function(){g.resizeEvent(),g.triggerEvent("initFinish"),g.isAnimating=!1,g.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var g=this;b["private"].resize.initEvent({instance:g,fn:function(){g.triggerEvent("beforeResizeGrid");var e=g.$obj.outerWidth();g.width!==e&&(g.width=e,"alignCenter"===g.options.gridAdjustment&&(g.wrapper[0].style.maxWidth=""),g.layoutAndAdjustment(),g.triggerEvent("resizeGrid")),g.triggerEvent("resizeWindow")}})},gridAdjust:function(){var e=this;"responsive"===e.options.gridAdjustment?e.responsiveLayout():(e.blocks.removeAttr("style"),e.blocks.each(function(j,k){var h=a(k).data("cbp"),g=k.getBoundingClientRect(),l=e.columnWidthTruncate(g.right-g.left),m=Math.round(g.bottom-g.top);h.height=m,h.heightAndGap=m+e.options.gapHorizontal,h.width=l,h.widthAndGap=l+e.options.gapVertical}),e.widthAvailable=e.width+e.options.gapVertical),e.triggerEvent("gridAdjust")},layoutAndAdjustment:function(g){var h=this;g&&(h.width=h.$obj.outerWidth()),h.gridAdjust(),h.layout()},layout:function(){var e=this;e.computeBlocks(e.filterConcat(e.defaultFilter)),"slider"===e.options.layoutMode?(e.sliderLayoutReset(),e.sliderLayout()):(e.mosaicLayoutReset(),e.mosaicLayout()),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(i,g){var h=a(g).data("cbp");h.left=h.leftNew,h.top=h.topNew,g.style.left=h.left+"px",g.style.top=h.top+"px"}),e.resizeMainContainer()},computeFilter:function(g){var h=this;h.computeBlocks(g),h.mosaicLayoutReset(),h.mosaicLayout(),h.filterLayout()},filterLayout:function(){var e=this;e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(i,g){var h=a(g).data("cbp");h.left=h.leftNew,h.top=h.topNew,g.style.left=h.left+"px",g.style.top=h.top+"px"}),e.resizeMainContainer(),e.filterFinish()},filterFinish:function(){var g=this;g.isAnimating=!1,g.$obj.trigger("filterComplete.cbp"),g.triggerEvent("filterFinish")},computeBlocks:function(g){var h=this;h.blocksOnInitial=h.blocksOn,h.blocksOn=h.blocks.filter(g),h.blocksOff=h.blocks.not(g),h.triggerEvent("computeBlocksFinish",g)},responsiveLayout:function(){var g=this;g.cols=g[a.isArray(g.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),g.columnWidth=g.columnWidthTruncate((g.width+g.options.gapVertical)/g.cols),g.widthAvailable=g.columnWidth*g.cols,"mosaic"===g.options.layoutMode&&g.getMosaicWidthReference(),g.blocks.each(function(k,l){var j,h=a(l).data("cbp"),m=1;"mosaic"===g.options.layoutMode&&(m=g.getColsMosaic(h.widthInitial)),j=g.columnWidth*m-g.options.gapVertical,l.style.width=j+"px",h.width=j,h.widthAndGap=j+g.options.gapVertical,l.style.height=""});var e=[];g.blocks.each(function(i,h){a.each(a(h).find("img").filter("[width][height]"),function(p,l){var k=0;a(l).parentsUntil(".cbp-item").each(function(s,q){var r=a(q).width();if(r>0){return k=r,!1}});var j=parseInt(l.getAttribute("width"),10),m=parseInt(l.getAttribute("height"),10),n=parseFloat((j/m).toFixed(10));e.push({el:l,width:k,height:Math.round(k/n)})})}),a.each(e,function(h,i){i.el.width=i.width,i.el.height=i.height,i.el.style.width=i.width+"px",i.el.style.height=i.height+"px"}),g.blocks.each(function(k,l){var j=a(l).data("cbp"),h=l.getBoundingClientRect(),m=Math.round(h.bottom-h.top);j.height=m,j.heightAndGap=m+g.options.gapHorizontal})},getMosaicWidthReference:function(){var g=this,e=[];g.blocks.each(function(k,j){var h=a(j).data("cbp");e.push(h.widthInitial)}),e.sort(function(h,i){return h-i}),e[0]?g.mosaicWidthReference=e[0]:g.mosaicWidthReference=g.columnWidth},getColsMosaic:function(g){var i=this;if(g===i.width){return i.cols}var h=g/i.mosaicWidthReference;return h=h%1>=0.79?Math.ceil(h):Math.floor(h),Math.min(Math.max(h,1),i.cols)},getColumnsAuto:function(){var g=this;if(0===g.blocks.length){return 1}var h=g.blocks.first().data("cbp").widthInitial+g.options.gapVertical;return Math.max(Math.round(g.width/h),1)},getColumnsBreakpoints:function(){var h,e=this,g=e.width;return a.each(e.options.mediaQueries,function(i,j){if(g>=j.width){return h=j,!1}}),h||(h=e.options.mediaQueries[e.options.mediaQueries.length-1]),e.triggerEvent("onMediaQueries",h.options),h.cols},columnWidthTruncate:function(g){return Math.floor(g)},resizeMainContainer:function(){var h,g=this,e=Math.max(g.freeSpaces.slice(-1)[0].topStart-g.options.gapHorizontal,0);"alignCenter"===g.options.gridAdjustment&&(h=0,g.blocksOn.each(function(l,m){var k=a(m).data("cbp"),j=k.left+k.width;j>h&&(h=j)}),g.wrapper[0].style.maxWidth=h+"px"),e!==g.height?(g.obj.style.height=e+"px",g.height!==d&&(b["private"].modernBrowser?g.$obj.one(b["private"].transitionend,function(){g.$obj.trigger("pluginResize.cbp")}):g.$obj.trigger("pluginResize.cbp")),g.height=e,g.triggerEvent("resizeMainContainer")):g.triggerEvent("resizeMainContainer")},filterConcat:function(g){return g.replace(/\|/gi,"")},pushQueue:function(g,i){var h=this;h.queue[g]=h.queue[g]||[],h.queue[g].push(i)},runQueue:function(j,g){var h=this,e=h.queue[j]||[];a.when.apply(a,e).then(a.proxy(g,h))},clearQueue:function(g){this.queue[g]=[]},registerEvent:function(g,j,h){var i=this;i.registeredEvents[g]||(i.registeredEvents[g]=[]),i.registeredEvents[g].push({func:j,oneTime:h||!1})},triggerEvent:function(g,l){var j,k,h=this;if(h.registeredEvents[g]){for(j=0,k=h.registeredEvents[g].length;j<k;j++){h.registeredEvents[g][j].func.call(h,l),h.registeredEvents[g][j].oneTime&&(h.registeredEvents[g].splice(j,1),j--,k--)}}},addItems:function(i,g,h){var e=this;e.wrapInner(i,"cbp-item-wrapper"),e.$ul[h](i.addClass("cbp-item-loading").css({top:"100%",left:0})),b["private"].modernBrowser?i.last().one(b["private"].animationend,function(){e.addItemsFinish(i,g)}):e.addItemsFinish(i,g),e.loadImages(i,function(){if(e.$obj.addClass("cbp-updateItems"),"append"===h){e.storeData(i,e.blocks.length),a.merge(e.blocks,i)}else{e.storeData(i);var j=i.length;e.blocks.each(function(l,k){a(k).data("cbp").index=j+l}),e.blocks=a.merge(i,e.blocks)}e.triggerEvent("addItemsToDOM",i),e.triggerEvent("triggerSort"),e.layoutAndAdjustment(!0),e.elems&&b["public"].showCounter.call(e.obj,e.elems)})},addItemsFinish:function(h,e){var g=this;g.isAnimating=!1,g.$obj.removeClass("cbp-updateItems"),h.removeClass("cbp-item-loading"),a.isFunction(e)&&e.call(g,h),g.$obj.trigger("onAfterLoadMore.cbp",[h])},removeItems:function(h,e){var g=this;g.$obj.addClass("cbp-updateItems"),b["private"].modernBrowser?h.last().one(b["private"].animationend,function(){g.removeItemsFinish(h,e)}):g.removeItemsFinish(h,e),h.each(function(j,i){g.blocks.each(function(m,k){if(i===k){var l=a(k);g.blocks.splice(m,1),b["private"].modernBrowser?(l.one(b["private"].animationend,function(){l.remove()}),l.addClass("cbp-removeItem")):l.remove()}})}),g.blocks.each(function(j,i){a(i).data("cbp").index=j}),g.triggerEvent("triggerSort"),g.layoutAndAdjustment(!0),g.elems&&b["public"].showCounter.call(g.obj,g.elems)},removeItemsFinish:function(h,e){var g=this;g.isAnimating=!1,g.$obj.removeClass("cbp-updateItems"),a.isFunction(e)&&e.call(g,h)}}),a.fn.cubeportfolio=function(g,i,h){return this.each(function(){if("object"==typeof g||!g){return b["public"].init.call(this,g,i)}if(b["public"][g]){return b["public"][g].call(this,i,h)}throw new Error("Method "+g+" does not exist on jquery.cubeportfolio.js")})},b.plugins={},a.fn.cubeportfolio.constructor=b}(jQuery,window,document),function(a,f,c,d){var b=a.fn.cubeportfolio.constructor;a.extend(b.prototype,{mosaicLayoutReset:function(){var e=this;e.blocksAreSorted=!1,e.blocksOn.each(function(g,h){a(h).data("cbp").pack=!1,e.options.sortByDimension&&(h.style.height="")}),e.freeSpaces=[{leftStart:0,leftEnd:e.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}]},mosaicLayout:function(){for(var g=this,j=0,h=g.blocksOn.length;j<h;j++){var i=g.getSpaceIndexAndBlock();if(null===i){return g.mosaicLayoutReset(),g.blocksAreSorted=!0,g.sortBlocks(g.blocksOn,"widthAndGap","heightAndGap",!0),void g.mosaicLayout()}g.generateF1F2(i.spaceIndex,i.dataBlock),g.generateG1G2G3G4(i.dataBlock),g.cleanFreeSpaces(),g.addHeightToBlocks()}g.blocksAreSorted&&g.sortBlocks(g.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var g=this,e=null;return a.each(g.freeSpaces,function(k,j){var h=j.leftEnd-j.leftStart,l=j.topEnd-j.topStart;return g.blocksOn.each(function(n,m){var i=a(m).data("cbp");if(!0!==i.pack){return i.widthAndGap<=h&&i.heightAndGap<=l?(i.pack=!0,e={spaceIndex:k,dataBlock:i},i.leftNew=j.leftStart,i.topNew=j.topStart,!1):void 0}}),!g.blocksAreSorted&&g.options.sortByDimension&&k>0?(e=null,!1):null===e&&void 0}),e},generateF1F2:function(h,m){var k=this,l=k.freeSpaces[h],j={leftStart:l.leftStart+m.widthAndGap,leftEnd:l.leftEnd,topStart:l.topStart,topEnd:l.topEnd},g={leftStart:l.leftStart,leftEnd:l.leftEnd,topStart:l.topStart+m.heightAndGap,topEnd:l.topEnd};k.freeSpaces.splice(h,1),j.leftEnd>j.leftStart&&j.topEnd>j.topStart&&(k.freeSpaces.splice(h,0,j),h++),g.leftEnd>g.leftStart&&g.topEnd>g.topStart&&k.freeSpaces.splice(h,0,g)},generateG1G2G3G4:function(h){var e=this,g=[];a.each(e.freeSpaces,function(k,l){var j=e.intersectSpaces(l,h);null!==j?(e.generateG1(l,j,g),e.generateG2(l,j,g),e.generateG3(l,j,g),e.generateG4(l,j,g)):g.push(l)}),e.freeSpaces=g},intersectSpaces:function(h,p){var k={leftStart:p.leftNew,leftEnd:p.leftNew+p.widthAndGap,topStart:p.topNew,topEnd:p.topNew+p.heightAndGap};if(h.leftStart===k.leftStart&&h.leftEnd===k.leftEnd&&h.topStart===k.topStart&&h.topEnd===k.topEnd){return null}var l=Math.max(h.leftStart,k.leftStart),j=Math.min(h.leftEnd,k.leftEnd),g=Math.max(h.topStart,k.topStart),m=Math.min(h.topEnd,k.topEnd);return j<=l||m<=g?null:{leftStart:l,leftEnd:j,topStart:g,topEnd:m}},generateG1:function(g,i,h){g.topStart!==i.topStart&&h.push({leftStart:g.leftStart,leftEnd:g.leftEnd,topStart:g.topStart,topEnd:i.topStart})},generateG2:function(g,i,h){g.leftEnd!==i.leftEnd&&h.push({leftStart:i.leftEnd,leftEnd:g.leftEnd,topStart:g.topStart,topEnd:g.topEnd})},generateG3:function(g,i,h){g.topEnd!==i.topEnd&&h.push({leftStart:g.leftStart,leftEnd:g.leftEnd,topStart:i.topEnd,topEnd:g.topEnd})},generateG4:function(g,i,h){g.leftStart!==i.leftStart&&h.push({leftStart:g.leftStart,leftEnd:i.leftStart,topStart:g.topStart,topEnd:g.topEnd})},cleanFreeSpaces:function(){var g=this;g.freeSpaces.sort(function(h,i){return h.topStart>i.topStart?1:h.topStart<i.topStart?-1:h.leftStart>i.leftStart?1:h.leftStart<i.leftStart?-1:0}),g.correctSubPixelValues(),g.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var g,l,j,k,h=this;for(g=0,l=h.freeSpaces.length-1;g<l;g++){j=h.freeSpaces[g],(k=h.freeSpaces[g+1]).topStart-j.topStart<=1&&(k.topStart=j.topStart)}},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=a.map(e.freeSpaces,function(g,h){return a.each(e.freeSpaces,function(i,j){if(h!==i){return j.leftStart<=g.leftStart&&j.leftEnd>=g.leftEnd&&j.topStart<=g.topStart&&j.topEnd>=g.topEnd?(g=null,!1):void 0}}),g})},uniqueFreeSpaces:function(){var g=this,e=[];a.each(g.freeSpaces,function(i,h){a.each(e,function(j,k){if(k.leftStart===h.leftStart&&k.leftEnd===h.leftEnd&&k.topStart===h.topStart&&k.topEnd===h.topEnd){return h=null,!1}}),null!==h&&e.push(h)}),g.freeSpaces=e},addHeightToBlocks:function(){var e=this;a.each(e.freeSpaces,function(g,h){e.blocksOn.each(function(l,k){var j=a(k).data("cbp");!0===j.pack&&e.intersectSpaces(h,j)&&-1===h.topStart-j.topNew-j.heightAndGap&&(k.style.height=j.height-1+"px")})})},sortBlocks:function(j,g,h,e){h=void 0===h?"leftNew":h,e=void 0===e?1:-1,j.sort(function(m,i){var k=a(m).data("cbp"),l=a(i).data("cbp");return k[g]>l[g]?e:k[g]<l[g]?-e:k[h]>l[h]?e:k[h]<l[h]?-e:k.index>l.index?e:k.index<l.index?-e:void 0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5000,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(c,h,f,g){var d=c.fn.cubeportfolio.constructor,b=c(h);d["private"]={publicEvents:function(k,e,j){var a=this;a.events=[],a.initEvent=function(i){0===a.events.length&&a.scrollEvent(),a.events.push(i)},a.destroyEvent=function(i){a.events=c.map(a.events,function(l,m){if(l.instance!==i){return l}}),0===a.events.length&&b.off(k)},a.scrollEvent=function(){var i;b.on(k,function(){clearTimeout(i),i=setTimeout(function(){c.isFunction(j)&&j.call(a)||c.each(a.events,function(l,m){m.fn.call(m.instance)})},e)})}},checkInstance:function(e){var a=c.data(this,"cubeportfolio");if(!a){throw new Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!")}return a.triggerEvent("publicMethod"),a},browserInfo:function(){var j,k,l=d["private"],i=navigator.appVersion;-1!==i.indexOf("MSIE 8.")?l.browser="ie8":-1!==i.indexOf("MSIE 9.")?l.browser="ie9":-1!==i.indexOf("MSIE 10.")?l.browser="ie10":h.ActiveXObject||"ActiveXObject" in h?l.browser="ie11":/android/gi.test(i)?l.browser="android":/iphone|ipad|ipod/gi.test(i)?l.browser="ios":/chrome/gi.test(i)?l.browser="chrome":l.browser="",void 0!==typeof l.styleSupport("perspective")&&(j=l.styleSupport("transition"),l.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[j],k=l.styleSupport("animation"),l.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[k],l.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[k],l.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[k],l.transform=l.styleSupport("transform"),j&&k&&l.transform&&(l.modernBrowser=!0))},styleSupport:function(a){var l,k="Webkit"+a.charAt(0).toUpperCase()+a.slice(1),j=f.createElement("div");return a in j.style?l=a:k in j.style&&(l=k),j=null,l}},d["private"].browserInfo(),d["private"].resize=new d["private"].publicEvents("resize.cbp",50,function(){if(h.innerHeight==screen.height){return !0}})}(jQuery,window,document),function(a,f,c,d){var b=a.fn.cubeportfolio.constructor;b["public"]={init:function(g,h){new b(this,g,h)},destroy:function(g){var e=b["private"].checkInstance.call(this,"destroy");e.triggerEvent("beforeDestroy"),a.removeData(this,"cubeportfolio"),e.blocks.removeData("cbp"),e.$obj.removeClass("cbp-ready").removeAttr("style"),e.$ul.removeClass("cbp-wrapper"),b["private"].resize.destroyEvent(e),e.$obj.off(".cbp"),e.blocks.removeClass("cbp-item-off").removeAttr("style"),e.blocks.find(".cbp-item-wrapper").each(function(l,j){var k=a(j),h=k.children();h.length?h.unwrap():k.remove()}),e.destroySlider&&e.destroySlider(),e.$ul.unwrap(),e.addedWrapp&&e.blocks.unwrap(),0===e.blocks.length&&e.$ul.remove(),a.each(e.plugins,function(h,i){"function"==typeof i.destroy&&i.destroy()}),a.isFunction(g)&&g.call(e),e.triggerEvent("afterDestroy")},filter:function(j,g){var h,e=b["private"].checkInstance.call(this,"filter");if(!e.isAnimating){if(e.isAnimating=!0,a.isFunction(g)&&e.registerEvent("filterFinish",g,!0),a.isFunction(j)){if(void 0===(h=j.call(e,e.blocks))){throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}}else{if(e.options.filterDeeplinking){var i=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=i+"#cbpf="+encodeURIComponent(j),e.singlePage&&e.singlePage.url&&(e.singlePage.url=location.href)}e.defaultFilter=j,h=e.filterConcat(e.defaultFilter)}e.triggerEvent("filterStart",h),e.singlePageInline&&e.singlePageInline.isOpen?e.singlePageInline.close("promise",{callback:function(){e.computeFilter(h)}}):e.computeFilter(h)}},showCounter:function(h,e){var g=b["private"].checkInstance.call(this,"showCounter");a.isFunction(e)&&g.registerEvent("showCounterFinish",e,!0),g.elems=h,h.each(function(){var j=a(this),i=g.blocks.filter(j.data("filter")).length;j.find(".cbp-filter-counter").text(i)}),g.triggerEvent("showCounterFinish",h)},appendItems:function(g,h){b["public"].append.call(this,g,h)},append:function(i,g){var h=b["private"].checkInstance.call(this,"append"),e=a(i).filter(".cbp-item");h.isAnimating||e.length<1?a.isFunction(g)&&g.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.addItems(e,g,"append")}}):h.addItems(e,g,"append"))},prepend:function(i,g){var h=b["private"].checkInstance.call(this,"prepend"),e=a(i).filter(".cbp-item");h.isAnimating||e.length<1?a.isFunction(g)&&g.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.addItems(e,g,"prepend")}}):h.addItems(e,g,"prepend"))},remove:function(i,g){var h=b["private"].checkInstance.call(this,"remove"),e=a(i).filter(".cbp-item");h.isAnimating||e.length<1?a.isFunction(g)&&g.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.removeItems(e,g)}}):h.removeItems(e,g))},layout:function(g){var e=b["private"].checkInstance.call(this,"layout");e.width=e.$obj.outerWidth(),e.isAnimating||e.width<=0?a.isFunction(g)&&g.call(e):("alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.storeData(e.blocks),e.layoutAndAdjustment(),a.isFunction(g)&&g.call(e))}}}(jQuery,window,document),function(a,f,c,d){var b=a.fn.cubeportfolio.constructor;a.extend(b.prototype,{updateSliderPagination:function(){var h,e,g=this;if(g.options.showPagination){for(h=Math.ceil(g.blocksOn.length/g.cols),g.navPagination.empty(),e=h-1;e>=0;e--){a("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(g.navPagination)}g.navPaginationItems=g.navPagination.children()}g.enableDisableNavSlider()},destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.removeClass("cbp-mode-slider"),e.$ul.removeAttr("style"),e.$ul.off(".cbp"),a(c).off(".cbp"),e.options.auto&&e.stopSliderAuto())},nextSlider:function(g){var h=this;if(h.isEndSlider()){if(!h.isRewindNav()){return}h.sliderActive=0}else{h.options.scrollByPage?h.sliderActive=Math.min(h.sliderActive+h.cols,h.blocksOn.length-h.cols):h.sliderActive+=1}h.goToSlider()},prevSlider:function(g){var h=this;if(h.isStartSlider()){if(!h.isRewindNav()){return}h.sliderActive=h.blocksOn.length-h.cols}else{h.options.scrollByPage?h.sliderActive=Math.max(0,h.sliderActive-h.cols):h.sliderActive-=1}h.goToSlider()},jumpToSlider:function(g){var i=this,h=Math.min(g.index()*i.cols,i.blocksOn.length-i.cols);h!==i.sliderActive&&(i.sliderActive=h,i.goToSlider())},jumpDragToSlider:function(h){var m,k,l,j=this,g=h>0;j.options.scrollByPage?(m=j.cols*j.columnWidth,k=j.cols):(m=j.columnWidth,k=1),h=Math.abs(h),l=Math.floor(h/m)*k,h%m>20&&(l+=k),j.sliderActive=g?Math.min(j.sliderActive+l,j.blocksOn.length-j.cols):Math.max(0,j.sliderActive-l),j.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){var g=this;return g.sliderActive+g.cols>g.blocksOn.length-1},goToSlider:function(){var g=this;g.enableDisableNavSlider(),g.updateSliderPosition()},startSliderAuto:function(){var g=this;g.isDrag?g.stopSliderAuto():g.timeout=setTimeout(function(){g.nextSlider(),g.startSliderAuto()},g.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var g,i,h=this;h.isRewindNav()||(i=h.isStartSlider()?"addClass":"removeClass",h.navPrev[i]("cbp-nav-stop"),i=h.isEndSlider()?"addClass":"removeClass",h.navNext[i]("cbp-nav-stop")),h.options.showPagination&&(g=h.options.scrollByPage?Math.ceil(h.sliderActive/h.cols):h.isEndSlider()?h.navPaginationItems.length-1:Math.floor(h.sliderActive/h.cols),h.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(g).addClass("cbp-nav-pagination-active")),h.customPagination&&(g=h.options.scrollByPage?Math.ceil(h.sliderActive/h.cols):h.isEndSlider()?h.customPaginationItems.length-1:Math.floor(h.sliderActive/h.cols),h.customPaginationItems.removeClass(h.customPaginationClass).eq(g).addClass(h.customPaginationClass))},isRewindNav:function(){var g=this;return !g.options.showNavigation||!(g.blocksOn.length<=g.cols)&&!!g.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var e=this;e.blocksOn.each(function(h,j){var g=a(j).data("cbp");g.leftNew=e.columnWidth*h,g.topNew=0,e.sliderFreeSpaces.push({topStart:g.heightAndGap})}),e.getFreeSpacesForSlider(),e.$ul.width(e.columnWidth*e.blocksOn.length-e.options.gapVertical)},getFreeSpacesForSlider:function(){var g=this;g.freeSpaces=g.sliderFreeSpaces.slice(g.sliderActive,g.sliderActive+g.cols),g.freeSpaces.sort(function(h,i){return h.topStart>i.topStart?1:h.topStart<i.topStart?-1:void 0})},updateSliderPosition:function(){var g=this,h=-g.sliderActive*g.columnWidth;b["private"].modernBrowser?g.$ul[0].style[b["private"].transform]="translate3d("+h+"px, 0px, 0)":g.$ul[0].style.left=h+"px",g.getFreeSpacesForSlider(),g.resizeMainContainer()},dragSlider:function(){function e(g){i.sliderItemsLength()||(E?q=g:g.preventDefault(),i.options.auto&&i.stopSliderAuto(),x?a(k).one("click.cbp",function(){return !1}):(k=a(g.target),j=z(g).x,C=0,n=-i.sliderActive*i.columnWidth,o=i.columnWidth*(i.blocksOn.length-i.cols),D.on(F.move,B),D.on(F.end,A),i.$obj.addClass("cbp-mode-slider-dragStart")))}function A(g){i.$obj.removeClass("cbp-mode-slider-dragStart"),x=!0,0!==C?(k.one("click.cbp",function(h){return !1}),requestAnimationFrame(function(){i.jumpDragToSlider(C),i.$ul.one(b["private"].transitionend,t)})):t.call(i),D.off(F.move),D.off(F.end)}function B(g){((C=j-z(g).x)>8||C<-8)&&g.preventDefault(),i.isDrag=!0;var h=n-C;C<0&&C<n?h=(n-C)/5:C>0&&n-C<-o&&(h=(o+n-C)/5-o),b["private"].modernBrowser?i.$ul[0].style[b["private"].transform]="translate3d("+h+"px, 0px, 0)":i.$ul[0].style.left=h+"px"}function t(){if(x=!1,i.isDrag=!1,i.options.auto){if(i.mouseIsEntered){return}i.startSliderAuto()}}function z(g){return g.originalEvent!==d&&g.originalEvent.touches!==d&&(g=g.originalEvent.touches[0]),{x:g.pageX,y:g.pageY}}var j,C,k,n,o,q,i=this,D=a(c),x=!1,F={},E=!1;i.isDrag=!1,"ontouchstart" in f||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(F={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},E=!0):F={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},i.$ul.on(F.start,e)},sliderLayoutReset:function(){var g=this;g.freeSpaces=[],g.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(){for(var a=0,c=["moz","webkit"],b=0;b<c.length&&!window.requestAnimationFrame;b++){window.requestAnimationFrame=window[c[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[b]+"CancelAnimationFrame"]||window[c[b]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(h,f){var g=(new Date).getTime(),e=Math.max(0,16-(g-a)),d=window.setTimeout(function(){h(g+e)},e);return a=g+e,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(d){clearTimeout(d)})}(),function(c,h,f,g){function d(a){var i=this;i.parent=a,a.filterLayout=i.filterLayout,a.registerEvent("computeBlocksFinish",function(e){a.blocksOn2On=a.blocksOnInitial.filter(e),a.blocksOn2Off=a.blocksOnInitial.not(e)})}var b=c.fn.cubeportfolio.constructor;d.prototype.filterLayout=function(){function e(){a.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(k,i){var j=c(i).data("cbp");j.left=j.leftNew,j.top=j.topNew,i.style.left=j.left+"px",i.style.top=j.top+"px",i.style[b["private"].transform]=""}),a.blocksOff.addClass("cbp-item-off"),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}var a=this;a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOn2On.addClass("cbp-item-on2on").each(function(k,i){var j=c(i).data("cbp");i.style[b["private"].transform]="translate3d("+(j.leftNew-j.left)+"px, "+(j.topNew-j.top)+"px, 0)"}),a.blocksOn2Off.addClass("cbp-item-on2off"),a.blocksOff2On=a.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(k,i){var j=c(i).data("cbp");i.style.left=j.leftNew+"px",i.style.top=j.topNew+"px"}),a.blocksOn2Off.length?a.blocksOn2Off.last().data("cbp").wrapper.one(b["private"].animationend,e):a.blocksOff2On.length?a.blocksOff2On.last().data("cbp").wrapper.one(b["private"].animationend,e):a.blocksOn2On.length?a.blocksOn2On.last().one(b["private"].transitionend,e):e(),a.resizeMainContainer()},d.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationClassic=function(a){return !b["private"].modernBrowser||c.inArray(a.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){var i=this;i.parent=a,a.filterLayout=i.filterLayout}var b=c.fn.cubeportfolio.constructor;d.prototype.filterLayout=function(){function i(){a.wrapper[0].removeChild(e),"sequentially"===a.options.animationType&&a.blocksOn.each(function(k,j){c(j).data("cbp").wrapper[0].style[b["private"].animationDelay]=""}),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}var a=this,e=a.$ul[0].cloneNode(!0);e.setAttribute("class","cbp-wrapper-helper"),a.wrapper[0].insertBefore(e,a.$ul[0]),requestAnimationFrame(function(){a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOff.addClass("cbp-item-off"),a.blocksOn.removeClass("cbp-item-off").each(function(l,k){var j=c(k).data("cbp");j.left=j.leftNew,j.top=j.topNew,k.style.left=j.left+"px",k.style.top=j.top+"px","sequentially"===a.options.animationType&&(j.wrapper[0].style[b["private"].animationDelay]=60*l+"ms")}),a.blocksOn.length?a.blocksOn.last().data("cbp").wrapper.one(b["private"].animationend,i):a.blocksOnInitial.length?a.blocksOnInitial.last().data("cbp").wrapper.one(b["private"].animationend,i):i(),a.resizeMainContainer()})},d.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationClone=function(a){return !b["private"].modernBrowser||c.inArray(a.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){var i=this;i.parent=a,a.filterLayout=i.filterLayout}var b=c.fn.cubeportfolio.constructor;d.prototype.filterLayout=function(){function k(){e.wrapper[0].removeChild(j[0]),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.blocks.each(function(l,i){c(i).data("cbp").wrapper[0].style[b["private"].animationDelay]=""}),e.filterFinish()}var e=this,j=e.$ul.clone(!0,!0);j[0].setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(j[0],e.$ul[0]);var a=j.find(".cbp-item").not(".cbp-item-off");e.blocksAreSorted&&e.sortBlocks(a,"top","left"),a.children(".cbp-item-wrapper").each(function(i,l){l.style[b["private"].animationDelay]=50*i+"ms"}),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(q,m){var p=c(m).data("cbp");p.left=p.leftNew,p.top=p.topNew,m.style.left=p.left+"px",m.style.top=p.top+"px",p.wrapper[0].style[b["private"].animationDelay]=50*q+"ms"});var i=e.blocksOn.length,l=a.length;0===i&&0===l?k():i<l?a.last().children(".cbp-item-wrapper").one(b["private"].animationend,k):e.blocksOn.last().data("cbp").wrapper.one(b["private"].animationend,k),e.resizeMainContainer()})},d.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationCloneDelay=function(a){return !b["private"].modernBrowser||c.inArray(a.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){var i=this;i.parent=a,a.filterLayout=i.filterLayout}var b=c.fn.cubeportfolio.constructor;d.prototype.filterLayout=function(){function i(){a.wrapper[0].removeChild(e),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}var a=this,e=a.$ul[0].cloneNode(!0);e.setAttribute("class","cbp-wrapper-helper"),a.wrapper[0].insertBefore(e,a.$ul[0]),requestAnimationFrame(function(){a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOff.addClass("cbp-item-off"),a.blocksOn.removeClass("cbp-item-off").each(function(l,j){var k=c(j).data("cbp");k.left=k.leftNew,k.top=k.topNew,j.style.left=k.left+"px",j.style.top=k.top+"px"}),a.blocksOn.length?a.$ul.one(b["private"].animationend,i):a.blocksOnInitial.length?c(e).one(b["private"].animationend,i):i(),a.resizeMainContainer()})},d.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationWrapper=function(a){return !b["private"].modernBrowser||c.inArray(a.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){var j=this,i=a.options;j.parent=a,j.captionOn=i.caption,a.registerEvent("onMediaQueries",function(k){k&&k.hasOwnProperty("caption")?j.captionOn!==k.caption&&(j.destroy(),j.captionOn=k.caption,j.init()):j.captionOn!==i.caption&&(j.destroy(),j.captionOn=i.caption,j.init())}),j.init()}var b=c.fn.cubeportfolio.constructor;d.prototype.init=function(){var a=this;""!=a.captionOn&&("expand"===a.captionOn||b["private"].modernBrowser||(a.parent.options.caption=a.captionOn="minimal"),a.parent.$obj.addClass("cbp-caption-active cbp-caption-"+a.captionOn))},d.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},b.plugins.caption=function(a){return new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){this.parent=a,a.registerEvent("initFinish",function(){a.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(m){if(m.preventDefault(),!a.isAnimating){a.isAnimating=!0;var p=c(this),j=p.next(),e=p.parent(),q={position:"relative",height:j.outerHeight(!0)},t={position:"relative",height:0};if(a.$obj.addClass("cbp-caption-expand-active"),e.hasClass("cbp-caption-expand-open")){var k=t;t=q,q=k,e.removeClass("cbp-caption-expand-open")}j.css(q),a.$obj.one("pluginResize.cbp",function(){a.isAnimating=!1,a.$obj.removeClass("cbp-caption-expand-active"),0===q.height&&(e.removeClass("cbp-caption-expand-open"),j.attr("style",""))}),a.layoutAndAdjustment(!0),j.css(t),requestAnimationFrame(function(){e.addClass("cbp-caption-expand-open"),j.css(q),a.triggerEvent("gridAdjust"),a.triggerEvent("resizeGrid")})}})},!0)}var b=c.fn.cubeportfolio.constructor;d.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},b.plugins.captionExpand=function(a){return"expand"!==a.options.caption?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=c.Deferred();a.pushQueue("delayFrame",e),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=i*a.options.displayTypeSpeed+"ms"}),a.$obj.addClass("cbp-displayType-bottomToTop"),a.blocksOn.last().one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-bottomToTop"),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=""}),e.resolve()})}},!0)}var b=c.fn.cubeportfolio.constructor;b.plugins.displayBottomToTop=function(a){return b["private"].modernBrowser&&"bottomToTop"===a.options.displayType&&0!==a.blocksOn.length?new d(a):null}}(jQuery,window,document),function(c,h,f,g){function d(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=c.Deferred();a.pushQueue("delayFrame",e),a.obj.style[b["private"].animationDuration]=a.options.displayTypeSpeed+"ms",a.$obj.addClass("cbp-displayType-fadeIn"),a.$obj.one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-fadeIn"),a.obj.style[b["private"].animationDuration]="",e.resolve()})}},!0)}var b=c.fn.cubeportfolio.constructor;b.plugins.displayFadeIn=function(a){return !b["private"].modernBrowser||"lazyLoading"!==a.options.displayType&&"fadeIn"!==a.options.displayType||0===a.blocksOn.length?null:new d(a)}}(jQuery,window,document),function(c,h,f,g){function d(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=c.Deferred();a.pushQueue("delayFrame",e),a.obj.style[b["private"].animationDuration]=a.options.displayTypeSpeed+"ms",a.$obj.addClass("cbp-displayType-fadeInToTop"),a.$obj.one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-fadeInToTop"),a.obj.style[b["private"].animationDuration]="",e.resolve()})}},!0)}var b=c.fn.cubeportfolio.constructor;b.plugins.displayFadeInToTop=function(a){return b["private"].modernBrowser&&"fadeInToTop"===a.options.displayType&&0!==a.blocksOn.length?new d(a):null}}(jQuery,window,document),function(c,h,f,g){function d(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=c.Deferred();a.pushQueue("delayFrame",e),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=i*a.options.displayTypeSpeed+"ms"}),a.$obj.addClass("cbp-displayType-sequentially"),a.blocksOn.last().one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-sequentially"),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=""}),e.resolve()})}},!0)}var b=c.fn.cubeportfolio.constructor;b.plugins.displaySequentially=function(a){return b["private"].modernBrowser&&"sequentially"===a.options.displayType&&0!==a.blocksOn.length?new d(a):null}}(jQuery,window,document),function(c,h,f,g){function d(e){var a=this;a.parent=e,a.filters=c(e.options.filters),a.filterData=[],e.registerEvent("afterPlugins",function(i){a.filterFromUrl(),a.registerFilter()}),e.registerEvent("resetFiltersVisual",function(){var i=e.options.defaultFilter.split("|");a.filters.each(function(l,k){var j=c(k).find(".cbp-filter-item");c.each(i,function(m,p){var o=j.filter('[data-filter="'+p+'"]');if(o.length){return o.addClass("active").siblings().removeClass("active"),i.splice(m,1),!1}})}),e.defaultFilter=e.options.defaultFilter})}var b=c.fn.cubeportfolio.constructor;d.prototype.registerFilter=function(){var i=this,a=i.parent,e=a.defaultFilter.split("|");i.wrap=i.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){c(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){c(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),i.filters.each(function(k,j){var o=c(j),q="*",m=o.find(".cbp-filter-item"),n={};o.hasClass("cbp-l-filters-dropdown")&&(n.wrap=o.find(".cbp-l-filters-dropdownWrap"),n.header=o.find(".cbp-l-filters-dropdownHeader"),n.headerText=n.header.text()),a.$obj.cubeportfolio("showCounter",m),c.each(e,function(l,p){if(m.filter('[data-filter="'+p+'"]').length){return q=p,e.splice(l,1),!1}}),c.data(j,"filterName",q),i.filterData.push(j),i.filtersCallback(n,m.filter('[data-filter="'+q+'"]')),m.on("click.cbp",function(){var p=c(this);if(!p.hasClass("active")&&!a.isAnimating){i.filtersCallback(n,p),c.data(j,"filterName",p.data("filter"));var l=c.map(i.filterData,function(v,r){var u=c.data(v,"filterName");return""!==u&&"*"!==u?u:null});l.length<1&&(l=["*"]);var s=l.join("|");a.defaultFilter!==s&&a.$obj.cubeportfolio("filter",s)}})})},d.prototype.filtersCallback=function(e,a){c.isEmptyObject(e)||(e.wrap.trigger("mouseleave.cbp"),e.headerText?e.headerText="":e.header.html(a.html())),a.addClass("active").siblings().removeClass("active")},d.prototype.filterFromUrl=function(){var a=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==a&&(this.parent.defaultFilter=decodeURIComponent(a[1]))},d.prototype.destroy=function(){var a=this;a.filters.find(".cbp-filter-item").off(".cbp"),a.wrap.off(".cbp")},b.plugins.filters=function(a){return""===a.options.filters?null:new d(a)}}(jQuery,window,document),function(a,f,c,d){function b(h){var e=h.options.gapVertical,g=h.options.gapHorizontal;h.registerEvent("onMediaQueries",function(j){h.options.gapVertical=j&&j.hasOwnProperty("gapVertical")?j.gapVertical:e,h.options.gapHorizontal=j&&j.hasOwnProperty("gapHorizontal")?j.gapHorizontal:g,h.blocks.each(function(l,m){var k=a(m).data("cbp");k.widthAndGap=k.width+h.options.gapVertical,k.heightAndGap=k.height+h.options.gapHorizontal})})}a.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(g){return new b(g)}}(jQuery,window,document),function(c,k,f,g){function d(e){var a=this;a.parent=e,a.options=c.extend({},h,a.parent.options.plugins.inlineSlider),a.runInit(),e.registerEvent("addItemsToDOM",function(){a.runInit()})}function b(a){var i=this;a.hasClass("cbp-slider-inline-ready")||(a.addClass("cbp-slider-inline-ready"),i.items=a.find(".cbp-slider-wrapper").children(".cbp-slider-item"),i.active=i.items.filter(".cbp-slider-item--active").index(),i.total=i.items.length-1,i.updateLeft(),a.find(".cbp-slider-next").on("click.cbp",function(l){l.preventDefault(),i.active<i.total?(i.active++,i.updateLeft()):i.active===i.total&&(i.active=0,i.updateLeft())}),a.find(".cbp-slider-prev").on("click.cbp",function(l){l.preventDefault(),i.active>0?(i.active--,i.updateLeft()):0===i.active&&(i.active=i.total,i.updateLeft())}))}var h={},j=c.fn.cubeportfolio.constructor;b.prototype.updateLeft=function(){var a=this;a.items.removeClass("cbp-slider-item--active"),a.items.eq(a.active).addClass("cbp-slider-item--active"),a.items.each(function(i,e){e.style.left=i-a.active+"00%"})},d.prototype.runInit=function(){var a=this;a.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(l,m){var e=c(m),p=e.find(".cbp-slider-item--active").find("img")[0];p.hasAttribute("data-cbp-src")?a.parent.$obj.on("lazyLoad.cbp",function(i,n){n.src===p.src&&new b(e)}):new b(e)})},d.prototype.destroy=function(){var a=this;a.parent.$obj.find(".cbp-slider-next").off("click.cbp"),a.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),a.parent.$obj.off("lazyLoad.cbp"),a.parent.$obj.find(".cbp-slider-inline").each(function(p,l){var m=c(l);m.removeClass("cbp-slider-inline-ready");var e=m.find(".cbp-slider-item");e.removeClass("cbp-slider-item--active"),e.removeAttr("style"),e.eq(0).addClass("cbp-slider-item--active")})},j.plugins.inlineSlider=function(a){return new d(a)}}(jQuery,window,document),function(c,k,f,g){function d(e){var a=this;a.parent=e,a.options=c.extend({},b,a.parent.options.plugins.lazyLoad),e.registerEvent("initFinish",function(){a.loadImages(),e.registerEvent("resizeMainContainer",function(){a.loadImages()}),e.registerEvent("filterFinish",function(){a.loadImages()}),h["private"].lazyLoadScroll.initEvent({instance:a,fn:a.loadImages})},!0)}var b={loadingClass:"cbp-lazyload",threshold:400},h=c.fn.cubeportfolio.constructor,j=c(k);h["private"].lazyLoadScroll=new h["private"].publicEvents("scroll.cbplazyLoad",50),d.prototype.loadImages=function(){var e=this,a=e.parent.$obj.find("img").filter("[data-cbp-src]");0!==a.length&&(e.screenHeight=j.height(),a.each(function(p,q){var m=c(q.parentNode);if(e.isElementInScreen(q)){var l=q.getAttribute("data-cbp-src");null===e.parent.checkSrc(c("<img>").attr("src",l))?(e.removeLazyLoad(q,l),m.removeClass(e.options.loadingClass)):(m.addClass(e.options.loadingClass),c("<img>").on("load.cbp error.cbp",function(){e.removeLazyLoad(q,l,m)}).attr("src",l))}else{m.addClass(e.options.loadingClass)}}))},d.prototype.removeLazyLoad=function(m,e,l){var a=this;m.src=e,m.removeAttribute("data-cbp-src"),a.parent.removeAttrImage(m),a.parent.$obj.trigger("lazyLoad.cbp",m),l&&(h["private"].modernBrowser?c(m).one(h["private"].transitionend,function(){l.removeClass(a.options.loadingClass)}):l.removeClass(a.options.loadingClass))},d.prototype.isElementInScreen=function(a){var q=this,m=a.getBoundingClientRect(),p=m.bottom+q.options.threshold,l=q.screenHeight+p-(m.top-q.options.threshold);return p>=0&&p<=l},d.prototype.destroy=function(){h["private"].lazyLoadScroll.destroyEvent(this)},h.plugins.lazyLoad=function(a){return new d(a)}}(jQuery,window,document),function(c,j,f,g){function d(e){var a=this;a.parent=e,a.options=c.extend({},b,a.parent.options.plugins.loadMore),a.loadMore=c(a.options.element).find(".cbp-l-loadMore-link"),0!==a.loadMore.length&&(a.loadItems=a.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===a.loadItems.text()&&a.loadMore.addClass("cbp-l-loadMore-stop"),e.registerEvent("filterStart",function(i){a.populateItems().then(function(){var k=a.items.filter(i).length;k>0?(a.loadMore.removeClass("cbp-l-loadMore-stop"),a.loadItems.html(k)):a.loadMore.addClass("cbp-l-loadMore-stop")})}),a[a.options.action]())}var b={element:"",action:"click",loadItems:3},h=c.fn.cubeportfolio.constructor;d.prototype.populateItems=function(){var a=this;return a.items?c.Deferred().resolve():(a.items=c(),c.ajax({url:a.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(e){var i=c.map(e.split(/\r?\n/),function(l,k){return c.trim(l)}).join("");0!==i.length&&c.each(c.parseHTML(i),function(k,l){c(l).hasClass("cbp-item")?a.items=a.items.add(l):c.each(l.children,function(m,p){c(p).hasClass("cbp-item")&&(a.items=a.items.add(p))})})}).fail(function(){a.items=null,a.loadMore.removeClass("cbp-l-loadMore-loading")}))},d.prototype.populateInsertItems=function(p){var l=this,m=[],k=l.parent.defaultFilter,e=0;l.items.each(function(i,a){if(e===l.options.loadItems){return !1}k&&"*"!==k?c(a).filter(k).length&&(m.push(a),l.items[i]=null,e++):(m.push(a),l.items[i]=null,e++)}),l.items=l.items.map(function(a,i){return i}),0!==m.length?l.parent.$obj.cubeportfolio("append",m,p):l.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},d.prototype.click=function(){function a(){i.loadMore.removeClass("cbp-l-loadMore-loading");var k,l=i.parent.defaultFilter;0===(k=l&&"*"!==l?i.items.filter(l).length:i.items.length)?i.loadMore.addClass("cbp-l-loadMore-stop"):i.loadItems.html(k)}var i=this;i.loadMore.on("click.cbp",function(e){e.preventDefault(),i.parent.isAnimating||i.loadMore.hasClass("cbp-l-loadMore-stop")||(i.loadMore.addClass("cbp-l-loadMore-loading"),i.populateItems().then(function(){i.populateInsertItems(a)}))})},d.prototype.auto=function(){function l(){p||k.loadMore.hasClass("cbp-l-loadMore-stop")||k.loadMore.offset().top-200>e.scrollTop()+e.height()||(p=!0,k.populateItems().then(function(){k.populateInsertItems(m)}).fail(function(){p=!1}))}function m(){var a,i=k.parent.defaultFilter;0===(a=i&&"*"!==i?k.items.filter(i).length:k.items.length)?k.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(k.loadItems.html(a),e.trigger("scroll.loadMore")),p=!1,0===k.items.length&&(h["private"].loadMoreScroll.destroyEvent(k),k.parent.$obj.off("filterComplete.cbp"))}var k=this,e=c(j),p=!1;h["private"].loadMoreScroll=new h["private"].publicEvents("scroll.loadMore",100),k.parent.$obj.one("initComplete.cbp",function(){k.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",function(a){a.preventDefault()}),h["private"].loadMoreScroll.initEvent({instance:k,fn:function(){k.parent.isAnimating||l()}}),k.parent.$obj.on("filterComplete.cbp",function(){l()}),l()})},d.prototype.destroy=function(){this.loadMore.off(".cbp"),h["private"].loadMoreScroll&&h["private"].loadMoreScroll.destroyEvent(this)},h.plugins.loadMore=function(a){var i=a.options.plugins;return a.options.loadMore&&(i.loadMore||(i.loadMore={}),i.loadMore.element=a.options.loadMore),a.options.loadMoreAction&&(i.loadMore||(i.loadMore={}),i.loadMore.action=a.options.loadMoreAction),i.loadMore&&void 0!==i.loadMore.selector&&(i.loadMore.element=i.loadMore.selector,delete i.loadMore.selector),i.loadMore&&i.loadMore.element?new d(a):null}}(jQuery,window,document),function(f,v,j,k){function g(a){var c=this;c.parent=a,!1===a.options.lightboxShowCounter&&(a.options.lightboxCounter=""),!1===a.options.singlePageShowCounter&&(a.options.singlePageCounter=""),a.registerEvent("initStartRead",function(){c.run()},!0)}var b=f.fn.cubeportfolio.constructor,q={delay:0},u={init:function(B,y){var w,e=this;if(e.cubeportfolio=B,e.type=y,e.isOpen=!1,e.options=e.cubeportfolio.options,"lightbox"===y&&(e.cubeportfolio.registerEvent("resizeWindow",function(){e.resizeImage()}),e.localOptions=f.extend({},q,e.cubeportfolio.options.plugins.lightbox)),"singlePageInline"!==y){if(e.createMarkup(),"singlePage"===y){if(e.cubeportfolio.registerEvent("resizeWindow",function(){if(e.options.singlePageStickyNavigation){var a=e.contentWrap[0].clientWidth;a>0&&(e.navigationWrap.width(a),e.navigation.width(a))}}),e.options.singlePageDeeplinking){e.url=location.href,"#"===e.url.slice(-1)&&(e.url=e.url.slice(0,-1));var A=e.url.split("#cbp="),x=A.shift();if(f.each(A,function(c,a){if(e.cubeportfolio.blocksOn.each(function(p,i){var l=f(i).find(e.options.singlePageDelegate+'[href="'+a+'"]');if(l.length){return w=l,!1}}),w){return !1}}),w){e.url=x;var z=w,n=z.attr("data-cbp-singlePage"),C=[];n?C=z.closest(f(".cbp-item")).find('[data-cbp-singlePage="'+n+'"]'):e.cubeportfolio.blocksOn.each(function(i,a){var c=f(a);c.not(".cbp-item-off")&&c.find(e.options.singlePageDelegate).each(function(o,l){f(l).attr("data-cbp-singlePage")||C.push(l)})}),e.openSinglePage(C,w[0])}else{if(A.length){var r=j.createElement("a");r.setAttribute("href",A[0]),e.openSinglePage([r],r)}}}e.localOptions=f.extend({},q,e.cubeportfolio.options.plugins.singlePage)}}else{if(e.height=0,e.createMarkupSinglePageInline(),e.cubeportfolio.registerEvent("resizeGrid",function(){e.isOpen&&e.close()}),e.options.singlePageInlineDeeplinking){e.url=location.href,"#"===e.url.slice(-1)&&(e.url=e.url.slice(0,-1));x=(A=e.url.split("#cbpi=")).shift();f.each(A,function(c,a){if(e.cubeportfolio.blocksOn.each(function(p,i){var l=f(i).find(e.options.singlePageInlineDelegate+'[href="'+a+'"]');if(l.length){return w=l,!1}}),w){return !1}}),w&&e.cubeportfolio.registerEvent("initFinish",function(){e.openSinglePageInline(e.cubeportfolio.blocksOn,w[0])},!0)}e.localOptions=f.extend({},q,e.cubeportfolio.options.plugins.singlePageInline)}},createMarkup:function(){var c=this,a="";"singlePage"===c.type&&"left"!==c.options.singlePageAnimation&&(a=" cbp-popup-singlePage-"+c.options.singlePageAnimation),c.wrap=f("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+c.type+a,"data-action":"lightbox"===c.type?"close":""}).on("click.cbp",function(e){if(!c.stopEvents){var i=f(e.target).attr("data-action");c[i]&&(c[i](),e.preventDefault())}}),"singlePage"===c.type?(c.contentWrap=f("<div/>",{"class":"cbp-popup-content-wrap"}).appendTo(c.wrap),"ios"===b["private"].browser&&c.contentWrap.css("overflow","auto"),c.content=f("<div/>",{"class":"cbp-popup-content"}).appendTo(c.contentWrap)):c.content=f("<div/>",{"class":"cbp-popup-content"}).appendTo(c.wrap),f("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(c.wrap),"ie8"===b["private"].browser&&(c.bg=f("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===c.type?"close":""}).appendTo(c.wrap)),"singlePage"===c.type&&!1===c.options.singlePageStickyNavigation?c.navigationWrap=f("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(c.contentWrap):c.navigationWrap=f("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(c.wrap),c.navigation=f("<div/>",{"class":"cbp-popup-navigation"}).appendTo(c.navigationWrap),c.closeButton=f("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(c.navigation),c.nextButton=f("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(c.navigation),c.prevButton=f("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(c.navigation),"singlePage"===c.type&&(c.options.singlePageCounter&&(c.counter=f(c.options.singlePageCounter).appendTo(c.navigation),c.counter.text("")),c.content.on("click.cbp",c.options.singlePageDelegate,function(n){n.preventDefault();var t,p,l=c.dataArray.length,w=this.getAttribute("href");for(t=0;t<l;t++){if(c.dataArray[t].url===w){p=t;break}}if(void 0===p){var x=j.createElement("a");x.setAttribute("href",w),c.dataArray=[{url:w,element:x}],c.counterTotal=1,c.nextButton.hide(),c.prevButton.hide(),c.singlePageJumpTo(0)}else{c.singlePageJumpTo(p-c.current)}}),c.contentWrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(i){i.stopImmediatePropagation()})),f(j).on("keydown.cbp",function(i){c.isOpen&&(c.stopEvents||(h&&i.stopImmediatePropagation(),37===i.keyCode?c.prev():39===i.keyCode?c.next():27===i.keyCode&&c.close()))})},createMarkupSinglePageInline:function(){var a=this;a.wrap=f("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click.cbp",function(c){if(!a.stopEvents){var e=f(c.target).attr("data-action");e&&a[e]&&(a[e](),c.preventDefault())}}),a.content=f("<div/>",{"class":"cbp-popup-content"}).appendTo(a.wrap),a.navigation=f("<div/>",{"class":"cbp-popup-navigation"}).appendTo(a.wrap),a.closeButton=f("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(a.navigation)},destroy:function(){var c=this,a=f("body");f(j).off("keydown.cbp"),a.off("click.cbp",c.options.lightboxDelegate),a.off("click.cbp",c.options.singlePageDelegate),c.content.off("click.cbp",c.options.singlePageDelegate),c.cubeportfolio.$obj.off("click.cbp",c.options.singlePageInlineDelegate),c.cubeportfolio.$obj.off("click.cbp",c.options.lightboxDelegate),c.cubeportfolio.$obj.off("click.cbp",c.options.singlePageDelegate),c.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),c.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),c.wrap.remove()},openLightbox:function(t,n){var e,x,y=this,w=0,l=[];if(!y.isOpen){if(h=!0,y.isOpen=!0,y.stopEvents=!1,y.dataArray=[],y.current=null,null===(e=n.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}f.each(t,function(A,p){var s,a=p.getAttribute("href"),z=a,c="isImage";if(-1===f.inArray(a,l)){if(e===a){y.current=w}else{if(!y.options.lightboxGallery){return}}if(/youtu\.?be/i.test(a)){var B=a.lastIndexOf("v=")+2;1===B&&(B=a.lastIndexOf("/")+1),s=a.substring(B),/autoplay=/i.test(s)||(s+="&autoplay=1"),z="//www.youtube.com/embed/"+(s=s.replace(/\?|&/,"?")),c="isYoutube"}else{/vimeo\.com/i.test(a)?(s=a.substring(a.lastIndexOf("/")+1),/autoplay=/i.test(s)||(s+="&autoplay=1"),z="//player.vimeo.com/video/"+(s=s.replace(/\?|&/,"?")),c="isVimeo"):/www\.ted\.com/i.test(a)?(z="http://embed.ted.com/talks/"+a.substring(a.lastIndexOf("/")+1)+".html",c="isTed"):/soundcloud\.com/i.test(a)?(z=a,c="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(a)?(z=-1!==a.indexOf("|")?a.split("|"):a.split("%7C"),c="isSelfHostedVideo"):/\.mp3$/i.test(a)&&(z=a,c="isSelfHostedAudio")}y.dataArray.push({src:z,title:p.getAttribute(y.options.lightboxTitleSrc),type:c}),w++}l.push(a)}),y.counterTotal=y.dataArray.length,1===y.counterTotal?(y.nextButton.hide(),y.prevButton.hide(),y.dataActionImg=""):(y.nextButton.show(),y.prevButton.show(),y.dataActionImg='data-action="next"'),y.wrap.appendTo(j.body),y.scrollTop=f(v).scrollTop(),y.originalStyle=f("html").attr("style"),f("html").css({overflow:"hidden",marginRight:v.innerWidth-f(j).width()}),y.wrap.addClass("cbp-popup-transitionend"),y.wrap.show(),x=y.dataArray[y.current],y[x.type](x)}},openSinglePage:function(t,e){var x,y=this,n=0,w=[];if(!y.isOpen){if(y.cubeportfolio.singlePageInline&&y.cubeportfolio.singlePageInline.isOpen&&y.cubeportfolio.singlePageInline.close(),y.isOpen=!0,y.stopEvents=!1,y.dataArray=[],y.current=null,null===(x=e.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}if(f.each(t,function(l,c){var i=c.getAttribute("href");-1===f.inArray(i,w)&&(x===i&&(y.current=n),y.dataArray.push({url:i,element:c}),n++),w.push(i)}),y.counterTotal=y.dataArray.length,1===y.counterTotal?(y.nextButton.hide(),y.prevButton.hide()):(y.nextButton.show(),y.prevButton.show()),y.wrap.appendTo(j.body),y.scrollTop=f(v).scrollTop(),y.contentWrap.scrollTop(0),y.wrap.show(),y.finishOpen=2,y.navigationMobile=f(),y.wrap.one(b["private"].transitionend,function(){f("html").css({overflow:"hidden",marginRight:v.innerWidth-f(j).width()}),y.wrap.addClass("cbp-popup-transitionend"),y.options.singlePageStickyNavigation&&(y.wrap.addClass("cbp-popup-singlePage-sticky"),y.navigationWrap.width(y.contentWrap[0].clientWidth)),--y.finishOpen<=0&&y.updateSinglePageIsOpen.call(y)}),"ie8"!==b["private"].browser&&"ie9"!==b["private"].browser||(f("html").css({overflow:"hidden",marginRight:v.innerWidth-f(j).width()}),y.wrap.addClass("cbp-popup-transitionend"),y.options.singlePageStickyNavigation&&(y.navigationWrap.width(y.contentWrap[0].clientWidth),setTimeout(function(){y.wrap.addClass("cbp-popup-singlePage-sticky")},1000)),y.finishOpen--),y.wrap.addClass("cbp-popup-loading"),y.wrap.offset(),y.wrap.addClass("cbp-popup-singlePage-open"),y.options.singlePageDeeplinking&&(y.url=y.url.split("#cbp=")[0],location.href=y.url+"#cbp="+y.dataArray[y.current].url),f.isFunction(y.options.singlePageCallback)&&y.options.singlePageCallback.call(y,y.dataArray[y.current].url,y.dataArray[y.current].element),"ios"===b["private"].browser){var a=y.contentWrap[0];a.addEventListener("touchstart",function(){var c=a.scrollTop,l=a.scrollHeight,i=c+a.offsetHeight;0===c?a.scrollTop=1:i===l&&(a.scrollTop=c-1)})}}},openSinglePageInline:function(z,A,x){var e,C,D,y=this;if(x=x||!1,y.fromOpen=x,y.storeBlocks=z,y.storeCurrentBlock=A,y.isOpen){return C=y.cubeportfolio.blocksOn.index(f(A).closest(".cbp-item")),void (y.dataArray[y.current].url!==A.getAttribute("href")||y.current!==C?y.cubeportfolio.singlePageInline.close("open",{blocks:z,currentBlock:A,fromOpen:!0}):y.close())}if(y.isOpen=!0,y.stopEvents=!1,y.dataArray=[],y.current=null,null===(e=A.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}if(D=f(A).closest(".cbp-item")[0],z.each(function(a,c){D===c&&(y.current=a)}),y.dataArray[y.current]={url:e,element:A},f(y.dataArray[y.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),y.counterTotal=z.length,y.wrap.insertBefore(y.cubeportfolio.wrapper),y.topDifference=0,"top"===y.options.singlePageInlinePosition){y.blocksToMove=z,y.top=0}else{if("bottom"===y.options.singlePageInlinePosition){y.blocksToMove=f(),y.top=y.cubeportfolio.height}else{if("above"===y.options.singlePageInlinePosition){var B=f(z[y.current]),t=(E=B.data("cbp").top)+B.height();y.top=E,y.blocksToMove=f(),z.each(function(s,p){var r=f(p),l=r.data("cbp").top,c=l+r.height();c<=E||(l>=E&&(y.blocksToMove=y.blocksToMove.add(p)),l<E&&c>E&&(y.top=c+y.options.gapHorizontal,c-E>y.topDifference&&(y.topDifference=c-E+y.options.gapHorizontal)))}),y.top=Math.max(y.top-y.options.gapHorizontal,0)}else{var E=(B=f(z[y.current])).data("cbp").top,t=E+B.height();y.top=t,y.blocksToMove=f(),z.each(function(G,p){var s=f(p),l=s.height(),c=s.data("cbp").top,F=c+l;F<=t||(c>=t-l/2?y.blocksToMove=y.blocksToMove.add(p):F>t&&c<t&&(F>y.top&&(y.top=F),F-t>y.topDifference&&(y.topDifference=F-t)))})}}}if(y.wrap[0].style.height=y.wrap.outerHeight(!0)+"px",y.deferredInline=f.Deferred(),y.options.singlePageInlineInFocus){y.scrollTop=f(v).scrollTop();var w=y.cubeportfolio.$obj.offset().top+y.top-100;y.scrollTop!==w?f("html,body").animate({scrollTop:w},350).promise().then(function(){y.resizeSinglePageInline(),y.deferredInline.resolve()}):(y.resizeSinglePageInline(),y.deferredInline.resolve())}else{y.resizeSinglePageInline(),y.deferredInline.resolve()}y.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),y.wrap.css({top:y.top}),y.options.singlePageInlineDeeplinking&&(y.url=y.url.split("#cbpi=")[0],location.href=y.url+"#cbpi="+y.dataArray[y.current].url),f.isFunction(y.options.singlePageInlineCallback)&&y.options.singlePageInlineCallback.call(y,y.dataArray[y.current].url,y.dataArray[y.current].element)},resizeSinglePageInline:function(){var a=this;a.height=0===a.top||a.top===a.cubeportfolio.height?a.wrap.outerHeight(!0):a.wrap.outerHeight(!0)-a.options.gapHorizontal,a.height+=a.topDifference,a.storeBlocks.each(function(c,i){b["private"].modernBrowser?i.style[b["private"].transform]="":i.style.marginTop=""}),a.blocksToMove.each(function(e,c){b["private"].modernBrowser?c.style[b["private"].transform]="translate3d(0px, "+a.height+"px, 0)":c.style.marginTop=a.height+"px"}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+a.height+"px"},revertResizeSinglePageInline:function(){var a=this;a.deferredInline=f.Deferred(),a.storeBlocks.each(function(c,i){b["private"].modernBrowser?i.style[b["private"].transform]="":i.style.marginTop=""}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+"px"},appendScriptsToWrap:function(a){var n=this,l=0,c=function(e){var i=j.createElement("script"),o=e.src;i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,a[++l]&&c(a[l]))}:i.onload=function(){a[++l]&&c(a[l])},o?i.src=o:i.text=e.text,n.content[0].appendChild(i)};c(a[0])},updateSinglePage:function(r,l,p){var e,c=this;c.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===p&&c.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),c.counter&&(e=f(c.getCounterMarkup(c.options.singlePageCounter,c.current+1,c.counterTotal)),c.counter.text(e.text())),c.fromAJAX={html:r,scripts:l},--c.finishOpen<=0&&c.updateSinglePageIsOpen.call(c)},updateSinglePageIsOpen:function(){var a,c=this;c.wrap.addClass("cbp-popup-ready"),c.wrap.removeClass("cbp-popup-loading"),c.content.html(c.fromAJAX.html),c.fromAJAX.scripts&&c.appendScriptsToWrap(c.fromAJAX.scripts),c.fromAJAX={},c.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(a=c.content.find(".cbp-slider")).length?(a.find(".cbp-slider-item").addClass("cbp-item"),c.slider=a.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):c.slider=null,c.checkForSocialLinks(c.content),c.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(a){var c=this;c.createFacebookShare(a.find(".cbp-social-fb")),c.createTwitterShare(a.find(".cbp-social-twitter")),c.createGooglePlusShare(a.find(".cbp-social-googleplus")),c.createPinterestShare(a.find(".cbp-social-pinterest"))},createFacebookShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(v.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(v.location.href)+"&text="+encodeURIComponent(j.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(v.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(a){if(a.length&&!a.attr("onclick")){var c="",i=this.content.find("img")[0];i&&(c=i.src),a.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(v.location.href)+"&media="+c+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(a,i){var c=this;c.content.html(a),i&&c.appendScriptsToWrap(i),c.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==c.localOptions.delay?setTimeout(function(){c.singlePageInlineIsOpen.call(c)},c.localOptions.delay):c.singlePageInlineIsOpen.call(c)},singlePageInlineIsOpen:function(){function a(){c.wrap.addClass("cbp-popup-singlePageInline-ready"),c.wrap[0].style.height="",c.resizeSinglePageInline(),c.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var c=this;c.cubeportfolio.loadImages(c.wrap,function(){var e=c.content.find(".cbp-slider");e.length?(e.find(".cbp-slider-item").addClass("cbp-item"),e.one("initComplete.cbp",function(){c.deferredInline.done(a)}),e.on("pluginResize.cbp",function(){c.deferredInline.done(a)}),c.slider=e.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(c.slider=null,c.deferredInline.done(a)),c.checkForSocialLinks(c.content)})},isImage:function(c){var a=this;new Image;a.tooggleLoading(!0),a.cubeportfolio.loadImages(f('<div><img src="'+c.src+'"></div>'),function(){a.updateImagesMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal)),a.tooggleLoading(!1)})},isVimeo:function(a){var c=this;c.updateVideoMarkup(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},isYoutube:function(a){var c=this;c.updateVideoMarkup(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},isTed:function(a){var c=this;c.updateVideoMarkup(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},isSoundCloud:function(a){var c=this;c.updateVideoMarkup(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},isSelfHostedVideo:function(a){var c=this;c.updateSelfHostedVideo(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},isSelfHostedAudio:function(a){var c=this;c.updateSelfHostedAudio(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal))},getCounterMarkup:function(a,l,c){if(!a.length){return""}var i={current:l,total:c};return a.replace(/\{\{current}}|\{\{total}}/gi,function(n){return i[n.slice(2,-2)]})},updateSelfHostedVideo:function(l,w,r){var s,p=this;p.wrap.addClass("cbp-popup-lightbox-isIframe");var c='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(s=0;s<l.length;s++){/(\.mp4)/i.test(l[s])?c+='<source src="'+l[s]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(l[s])?c+='<source src="'+l[s]+'" type="video/ogg">':/(\.webm)/i.test(l[s])&&(c+='<source src="'+l[s]+'" type="video/webm">')}c+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(w?'<div class="cbp-popup-lightbox-title">'+w+"</div>":"")+r+"</div></div>",p.content.html(c),p.wrap.addClass("cbp-popup-ready"),p.preloadNearbyImages()},updateSelfHostedAudio:function(a,r,l){var p=this;p.wrap.addClass("cbp-popup-lightbox-isIframe");var c='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+a+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(r?'<div class="cbp-popup-lightbox-title">'+r+"</div>":"")+l+"</div></div>";p.content.html(c),p.wrap.addClass("cbp-popup-ready"),p.preloadNearbyImages()},updateVideoMarkup:function(a,r,l){var p=this;p.wrap.addClass("cbp-popup-lightbox-isIframe");var c='<div class="cbp-popup-lightbox-iframe"><iframe src="'+a+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(r?'<div class="cbp-popup-lightbox-title">'+r+"</div>":"")+l+"</div></div>";p.content.html(c),p.wrap.addClass("cbp-popup-ready"),p.preloadNearbyImages()},updateImagesMarkup:function(a,r,l){var p=this;p.wrap.removeClass("cbp-popup-lightbox-isIframe");var c='<div class="cbp-popup-lightbox-figure"><img src="'+a+'" class="cbp-popup-lightbox-img" '+p.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(r?'<div class="cbp-popup-lightbox-title">'+r+"</div>":"")+l+"</div></div>";p.content.html(c),p.wrap.addClass("cbp-popup-ready"),p.resizeImage(),p.preloadNearbyImages()},next:function(){var a=this;a[a.type+"JumpTo"](1)},prev:function(){var a=this;a[a.type+"JumpTo"](-1)},lightboxJumpTo:function(a){var i,c=this;c.current=c.getIndex(c.current+a),c[(i=c.dataArray[c.current]).type](i)},singlePageJumpTo:function(c){var a=this;a.current=a.getIndex(a.current+c),f.isFunction(a.options.singlePageCallback)&&(a.resetWrap(),a.contentWrap.scrollTop(0),a.wrap.addClass("cbp-popup-loading"),a.slider&&b["private"].resize.destroyEvent(f.data(a.slider[0],"cubeportfolio")),a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element),a.options.singlePageDeeplinking&&(location.href=a.url+"#cbp="+a.dataArray[a.current].url))},resetWrap:function(){var a=this;"singlePage"===a.type&&a.options.singlePageDeeplinking&&(location.href=a.url+"#"),"singlePageInline"===a.type&&a.options.singlePageInlineDeeplinking&&(location.href=a.url+"#")},getIndex:function(a){var c=this;return(a%=c.counterTotal)<0&&(a=c.counterTotal+a),a},close:function(c,e){function a(){p.slider&&b["private"].resize.destroyEvent(f.data(p.slider[0],"cubeportfolio")),p.content.html(""),p.wrap.detach(),p.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===c&&f.isFunction(e.callback)&&e.callback.call(p.cubeportfolio)}function l(){var i=f(v).scrollTop();p.resetWrap(),f(v).scrollTop(i),p.options.singlePageInlineInFocus&&"promise"!==c?f("html,body").animate({scrollTop:p.scrollTop},350).promise().then(function(){a()}):a()}var p=this;p.isOpen=!1,"singlePageInline"===p.type?"open"===c?(p.wrap.removeClass("cbp-popup-singlePageInline-ready"),f(p.dataArray[p.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),p.openSinglePageInline(e.blocks,e.currentBlock,e.fromOpen)):(p.height=0,p.revertResizeSinglePageInline(),p.wrap.removeClass("cbp-popup-singlePageInline-ready"),p.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),p.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),b["private"].modernBrowser?p.wrap.one(b["private"].transitionend,function(){l()}):l()):"singlePage"===p.type?(p.resetWrap(),f(v).scrollTop(p.scrollTop),p.stopScroll=!0,p.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),f("html").css({overflow:"",marginRight:"",position:""}),"ie8"!==b["private"].browser&&"ie9"!==b["private"].browser||(p.slider&&b["private"].resize.destroyEvent(f.data(p.slider[0],"cubeportfolio")),p.content.html(""),p.wrap.detach()),p.wrap.one(b["private"].transitionend,function(){p.slider&&b["private"].resize.destroyEvent(f.data(p.slider[0],"cubeportfolio")),p.content.html(""),p.wrap.detach()})):(h=!1,p.originalStyle?f("html").attr("style",p.originalStyle):f("html").css({overflow:"",marginRight:""}),f(v).scrollTop(p.scrollTop),p.slider&&b["private"].resize.destroyEvent(f.data(p.slider[0],"cubeportfolio")),p.content.html(""),p.wrap.detach())},tooggleLoading:function(a){var c=this;c.stopEvents=a,c.wrap[a?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var c=this.content.find("img"),e=c.parent(),a=f(v).height()-(e.outerHeight(!0)-e.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0);c.css("max-height",a+"px")}},preloadNearbyImages:function(){for(var a=this,i=[a.getIndex(a.current+1),a.getIndex(a.current+2),a.getIndex(a.current+3),a.getIndex(a.current-1),a.getIndex(a.current-2),a.getIndex(a.current-3)],c=i.length-1;c>=0;c--){"isImage"===a.dataArray[i[c]].type&&a.cubeportfolio.checkSrc(a.dataArray[i[c]])}}},h=!1,m=!1,d=!1;g.prototype.run=function(){var e=this,c=e.parent,a=f(j.body);c.lightbox=null,c.options.lightboxDelegate&&!m&&(m=!0,c.lightbox=Object.create(u),c.lightbox.init(c,"lightbox"),a.on("click.cbp",c.options.lightboxDelegate,function(w){w.preventDefault();var p=f(this),o=p.attr("data-cbp-lightbox"),x=e.detectScope(p),y=x.data("cubeportfolio"),t=[];y?y.blocksOn.each(function(s,r){var l=f(r);l.not(".cbp-item-off")&&l.find(c.options.lightboxDelegate).each(function(z,i){o?f(i).attr("data-cbp-lightbox")===o&&t.push(i):t.push(i)})}):t=o?x.find(c.options.lightboxDelegate+"[data-cbp-lightbox="+o+"]"):x.find(c.options.lightboxDelegate),c.lightbox.openLightbox(t,p[0])})),c.singlePage=null,c.options.singlePageDelegate&&!d&&(d=!0,c.singlePage=Object.create(u),c.singlePage.init(c,"singlePage"),a.on("click.cbp",c.options.singlePageDelegate,function(w){w.preventDefault();var p=f(this),o=p.attr("data-cbp-singlePage"),x=e.detectScope(p),y=x.data("cubeportfolio"),t=[];y?y.blocksOn.each(function(s,r){var l=f(r);l.not(".cbp-item-off")&&l.find(c.options.singlePageDelegate).each(function(z,i){o?f(i).attr("data-cbp-singlePage")===o&&t.push(i):t.push(i)})}):t=o?x.find(c.options.singlePageDelegate+"[data-cbp-singlePage="+o+"]"):x.find(c.options.singlePageDelegate),c.singlePage.openSinglePage(t,p[0])})),c.singlePageInline=null,c.options.singlePageInlineDelegate&&(c.singlePageInline=Object.create(u),c.singlePageInline.init(c,"singlePageInline"),c.$obj.on("click.cbp",c.options.singlePageInlineDelegate,function(p){p.preventDefault();var o=f.data(this,"cbp-locked"),l=f.data(this,"cbp-locked",+new Date);(!o||l-o>300)&&c.singlePageInline.openSinglePageInline(c.blocksOn,this)}))},g.prototype.detectScope=function(n){var l,e,c;return(l=n.closest(".cbp-popup-singlePageInline")).length?(c=n.closest(".cbp",l[0]),c.length?c:l):(e=n.closest(".cbp-popup-singlePage")).length?(c=n.closest(".cbp",e[0]),c.length?c:e):(c=n.closest(".cbp"),c.length?c:f(j.body))},g.prototype.destroy=function(){var a=this.parent;f(j.body).off("click.cbp"),m=!1,d=!1,a.lightbox&&a.lightbox.destroy(),a.singlePage&&a.singlePage.destroy(),a.singlePageInline&&a.singlePageInline.destroy()},b.plugins.popUp=function(a){return new g(a)}}(jQuery,window,document),function(c,h,f,g){function d(i){var a=this;a.parent=i,a.searchInput=c(i.options.search),a.searchInput.each(function(l,j){var k=j.getAttribute("data-search");k||(k="*"),c.data(j,"searchData",{value:j.value,el:k})});var e=null;a.searchInput.on("keyup.cbp paste.cbp",function(k){k.preventDefault();var j=c(this);clearTimeout(e),e=setTimeout(function(){a.runEvent.call(a,j)},350)}),a.searchNothing=a.searchInput.siblings(".cbp-search-nothing").detach(),a.searchNothingHeight=null,a.searchNothingHTML=a.searchNothing.html(),a.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(j){j.preventDefault(),a.runEvent.call(a,c(this).prev().val(""))})}var b=c.fn.cubeportfolio.constructor;d.prototype.runEvent=function(m){var k=this,l=m.val(),j=m.data("searchData"),e=new RegExp(l,"i");j.value===l||k.parent.isAnimating||(j.value=l,l.length>0?m.attr("value",l):m.removeAttr("value"),k.parent.$obj.cubeportfolio("filter",function(n){var a=n.filter(function(p,o){if(c(o).find(j.el).text().search(e)>-1){return !0}});if(0===a.length&&k.searchNothing.length){var i=k.searchNothingHTML.replace("{{query}}",l);k.searchNothing.html(i),k.searchNothing.appendTo(k.parent.$obj),null===k.searchNothingHeight&&(k.searchNothingHeight=k.searchNothing.outerHeight(!0)),k.parent.registerEvent("resizeMainContainer",function(){k.parent.height=k.parent.height+k.searchNothingHeight,k.parent.obj.style.height=k.parent.height+"px"},!0)}else{k.searchNothing.detach()}return k.parent.triggerEvent("resetFiltersVisual"),a},function(){m.trigger("keyup.cbp")}))},d.prototype.destroy=function(){var a=this;a.searchInput.off(".cbp"),a.searchInput.next(".cbp-search-icon").off(".cbp"),a.searchInput.each(function(i,e){c.removeData(e)})},b.plugins.search=function(a){return""===a.options.search?null:new d(a)}}(jQuery,window,document),function(c,j,f,g){function d(i){var a=this;a.parent=i,a.options=c.extend({},b,a.parent.options.plugins.slider);var e=c(a.options.pagination);e.length>0&&(a.parent.customPagination=e,a.parent.customPaginationItems=e.children(),a.parent.customPaginationClass=a.options.paginationClass,a.parent.customPaginationItems.on("click.cbp",function(k){k.preventDefault(),k.stopImmediatePropagation(),k.stopPropagation(),a.parent.sliderStopEvents||a.parent.jumpToSlider(c(this))})),a.parent.registerEvent("gridAdjust",function(){a.sliderMarkup.call(a.parent),a.parent.registerEvent("gridAdjust",function(){a.updateSlider.call(a.parent)})},!0)}var b={pagination:"",paginationClass:"cbp-pagination-active"},h=c.fn.cubeportfolio.constructor;d.prototype.sliderMarkup=function(){var a=this;a.sliderStopEvents=!1,a.sliderActive=0,a.$obj.one("initComplete.cbp",function(){a.$obj.addClass("cbp-mode-slider")}),a.nav=c("<div/>",{"class":"cbp-nav"}),a.nav.on("click.cbp","[data-slider-action]",function(k){if(k.preventDefault(),k.stopImmediatePropagation(),k.stopPropagation(),!a.sliderStopEvents){var l=c(this),e=l.attr("data-slider-action");a[e+"Slider"]&&a[e+"Slider"](l)}}),a.options.showNavigation&&(a.controls=c("<div/>",{"class":"cbp-nav-controls"}),a.navPrev=c("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(a.controls),a.navNext=c("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(a.controls),a.controls.appendTo(a.nav)),a.options.showPagination&&(a.navPagination=c("<div/>",{"class":"cbp-nav-pagination"}).appendTo(a.nav)),(a.controls||a.navPagination)&&a.nav.appendTo(a.$obj),a.updateSliderPagination(),a.options.auto&&(a.options.autoPauseOnHover&&(a.mouseIsEntered=!1,a.$obj.on("mouseenter.cbp",function(i){a.mouseIsEntered=!0,a.stopSliderAuto()}).on("mouseleave.cbp",function(i){a.mouseIsEntered=!1,a.startSliderAuto()})),a.startSliderAuto()),a.options.drag&&h["private"].modernBrowser&&a.dragSlider()},d.prototype.updateSlider=function(){var a=this;a.updateSliderPosition(),a.updateSliderPagination()},d.prototype.destroy=function(){var a=this;a.parent.customPaginationItems&&a.parent.customPaginationItems.off(".cbp"),(a.parent.controls||a.parent.navPagination)&&(a.parent.nav.off(".cbp"),a.parent.nav.remove())},h.plugins.slider=function(a){return"slider"!==a.options.layoutMode?null:new d(a)}}(jQuery,window,document),function(c,j,f,g){function d(e){var a=this;a.parent=e,a.options=c.extend({},b,a.parent.options.plugins.sort),a.element=c(a.options.element),0!==a.element.length&&(a.sort="",a.sortBy="string:asc",a.element.on("click.cbp",".cbp-sort-item",function(i){i.preventDefault(),a.target=i.target,c(a.target).hasClass("cbp-l-dropdown-item--active")||e.isAnimating||(a.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),e.registerEvent("triggerSort",function(){a.target&&(a.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),a.dropdownWrap=a.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){c(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){c(this).removeClass("cbp-l-dropdown-wrap--open")}}),a.dropdownHeader=a.element.find(".cbp-l-dropdown-header"))}var b={element:""},h=c.fn.cubeportfolio.constructor;d.prototype.processSort=function(){var A=this,v=A.parent,w=(k=A.target).hasAttribute("data-sort"),m=k.hasAttribute("data-sortBy");if(w&&m){A.sort=k.getAttribute("data-sort"),A.sortBy=k.getAttribute("data-sortBy")}else{if(w){A.sort=k.getAttribute("data-sort")}else{if(!m){return}A.sortBy=k.getAttribute("data-sortBy")}}var e=A.sortBy.split(":"),y="string",z=1;if("int"===e[0]?y="int":"float"===e[0]&&(y="float"),"desc"===e[1]&&(z=-1),A.sort){var q=[];v.blocks.each(function(r,s){var p=c(s),l=p.find(A.sort).text();"int"===y&&(l=parseInt(l,10)),"float"===y&&(l=parseFloat(l,10)),q.push({sortText:l,data:p.data("cbp")})}),q.sort(function(a,p){var i=a.sortText,l=p.sortText;return"string"===y&&(i=i.toUpperCase(),l=l.toUpperCase()),i<l?-z:i>l?z:0}),c.each(q,function(a,i){i.data.index=a})}else{var x=[];-1===z&&(v.blocks.each(function(i,a){x.push(c(a).data("cbp").indexInitial)}),x.sort(function(a,i){return i-a})),v.blocks.each(function(l,a){var i=c(a).data("cbp");i.index=-1===z?x[i.indexInitial]:i.indexInitial})}v.sortBlocks(v.blocks,"index"),A.dropdownWrap.trigger("mouseleave.cbp");var k=c(A.target),B=c(A.target).parent();B.hasClass("cbp-l-dropdown-list")?(A.dropdownHeader.html(k.html()),k.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):B.hasClass("cbp-l-direction")&&(0===k.index()?B.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):B.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},d.prototype.destroy=function(){this.element.off("click.cbp")},h.plugins.sort=function(a){return new d(a)}}(jQuery,window,document);$("#portfolio-item").cubeportfolio({filters:"#portfolio-nav",loadMoreAction:"click",defaultFilter:"*",layoutMode:"grid",animationType:"quicksand",gridAdjustment:"responsive",gapHorizontal:30,gapVertical:30,mediaQueries:[{width:1100,cols:3,},{width:768,cols:3,},{width:480,cols:2,},{width:0,cols:1,}],caption:"overlayBottomPush",displayType:"sequentially",displayTypeSpeed:80,});